CREATE DATABASE  IF NOT EXISTS `computershop` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
USE `computershop`;
-- MySQL dump 10.13  Distrib 8.0.25, for Win64 (x86_64)
--
-- Host: localhost    Database: computershop
-- ------------------------------------------------------
-- Server version	8.0.25

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `orders`
--

DROP TABLE IF EXISTS `orders`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `orders` (
  `orderID` int NOT NULL AUTO_INCREMENT,
  `Customer_ID` int unsigned NOT NULL,
  `OrderDate` date NOT NULL,
  `PaymentMethood` varchar(45) NOT NULL,
  `employeeID` int NOT NULL,
  PRIMARY KEY (`orderID`,`employeeID`),
  UNIQUE KEY `orderID_UNIQUE` (`orderID`),
  KEY `FR_employeeID_idx` (`employeeID`),
  CONSTRAINT `FR_employeeID` FOREIGN KEY (`employeeID`) REFERENCES `employees` (`personID`)
) ENGINE=InnoDB AUTO_INCREMENT=81 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `orders`
--

LOCK TABLES `orders` WRITE;
/*!40000 ALTER TABLE `orders` DISABLE KEYS */;
INSERT INTO `orders` VALUES (1,315287490,'2016-05-20','Credit',313084174),(2,315974582,'2017-02-14','Debit',300877090),(3,317460529,'2018-09-05','Cash',313775422),(4,318148468,'2022-01-01','App',302822727),(5,318447589,'2022-02-14','Gift Card',313775422),(6,319737108,'2023-03-01','Credit',301789107),(7,320607254,'2023-02-14','Debit',310248652),(8,321278112,'2023-01-15','Cash',308750124),(9,323600844,'2022-12-01','App',310248652),(10,323616182,'2022-11-05','Gift Card',301836035),(11,324107886,'2022-10-02','Credit',301836035),(12,325222058,'2022-09-10','Debit',313775422),(13,326015663,'2022-08-15','Cash',301789107),(14,315287490,'2022-07-20','App',308750124),(15,315287490,'2022-06-01','Credit',313775422),(16,315974582,'2022-06-02','Debit',310248652),(17,317460529,'2022-06-03','Cash',312290162),(18,318148468,'2022-06-04','App',312290162),(19,318447589,'2022-06-05','Gift Card',304446235),(20,319737108,'2022-06-06','Credit',304446235),(21,320607254,'2022-06-07','Debit',313775422),(22,321278112,'2022-06-08','Cash',308750124),(23,323600844,'2022-06-09','App',301789107),(24,323616182,'2022-06-10','Gift Card',312290162),(25,324107886,'2022-06-11','Credit',313084174),(26,325222058,'2022-06-12','Debit',304446235),(27,326015663,'2022-06-13','Cash',312290162),(28,315287490,'2022-06-14','App',300877090),(29,315974582,'2022-06-15','Gift Card',313084174),(30,317460529,'2022-06-16','Credit',308750124),(31,318148468,'2022-06-17','Debit',301836035),(32,318447589,'2022-06-18','Cash',313775422),(33,319737108,'2022-06-19','App',307671623),(34,320607254,'2022-06-20','Gift Card',308750124),(35,321278112,'2022-06-21','Credit',313775422),(36,323600844,'2022-06-22','Debit',301789107),(37,323616182,'2022-06-23','Cash',313775422),(38,324107886,'2022-06-24','App',313084174),(39,325222058,'2022-06-25','Gift Card',300877090),(40,326015663,'2022-06-26','Credit',313084174),(41,315287490,'2022-06-27','Debit',313775422),(42,315974582,'2022-06-28','Cash',305298407),(43,317460529,'2022-06-29','App',306621797),(44,318148468,'2022-06-30','Gift Card',302822727),(45,318447589,'2022-07-01','Credit',302822727),(46,319737108,'2022-07-02','Debit',302822727),(47,320607254,'2022-07-03','Cash',306621797),(48,321278112,'2022-07-04','App',306621797),(49,323600844,'2022-07-05','Gift Card',304446235),(50,323616182,'2022-07-06','Credit',313775422),(51,324107886,'2022-07-07','Debit',301789107),(52,325222058,'2022-07-08','Cash',302822727),(53,326015663,'2022-07-09','App',300877090),(54,315287490,'2022-07-10','Gift Card',306621797),(55,315974582,'2022-07-11','Credit',313775422),(56,317460529,'2022-07-12','Debit',313775422),(57,318148468,'2022-07-13','Cash',301836035),(58,318447589,'2022-07-14','App',313775422),(59,319737108,'2022-07-15','Gift Card',301789107),(60,320607254,'2022-07-16','Credit',300877090),(61,321278112,'2022-07-17','Debit',301789107),(62,323600844,'2022-07-18','Cash',307671623),(63,323616182,'2022-07-19','App',313775422),(64,324107886,'2022-07-20','Gift Card',304446235),(65,325222058,'2022-07-21','Credit',313775422),(66,326015663,'2022-07-22','Debit',307671623),(67,315287490,'2022-07-23','Cash',313775422),(68,315974582,'2022-07-24','App',307671623),(69,317460529,'2022-07-25','Gift Card',302822727),(70,318148468,'2022-07-26','Credit',300877090),(71,318447589,'2022-07-27','Debit',305298407),(72,319737108,'2022-07-28','Cash',302822727),(73,320607254,'2022-07-29','App',300877090),(74,321278112,'2022-07-30','Gift Card',301836035),(75,323600844,'2022-07-31','Credit',305298407),(76,323616182,'2022-08-01','Debit',304446235),(77,324107886,'2022-08-02','Cash',302822727),(78,325222058,'2022-08-03','App',301789107),(79,326015663,'2022-08-04','Gift Card',300877090),(80,315287490,'2022-08-05','Credit',301836035);
/*!40000 ALTER TABLE `orders` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `orders_payment_method_check` BEFORE INSERT ON `orders` FOR EACH ROW BEGIN
	DECLARE payment_method_valid TINYINT DEFAULT 0;
    
    IF NEW.PaymentMethood IN ('Visa', 'Gift Card', 'Credit', 'Cash', 'App') THEN
        SET payment_method_valid = 1;
    END IF;
    
    IF NOT payment_method_valid THEN
        SET NEW = NULL;
    END IF;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2023-05-08 13:23:13
